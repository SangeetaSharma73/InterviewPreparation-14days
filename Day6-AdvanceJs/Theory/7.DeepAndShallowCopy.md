# ğŸ” Deep vs Shallow

## ğŸ§¬ Shallow

A shallow duplicates the top-level properties of an object or array, but nested objects or arrays are copied by reference, not value.

Example:

const original = { a: 1, b: { c: 2 } };
const shallow = { ...original };
shallow.b.c = 42;
console.log(original.b.c); // 42 â€” original is affected!

## ğŸŒŠ Deep

A deep recursively copies all properties and nested structures, ensuring the new object is completely independent of the original.

Example:

```js
const original = { a: 1, b: { c: 2 } };
const deep = structuredClone(original);
deep.b.c = 42;
console.log(original.b.c); // 2 â€” original is not affected
```

## ğŸ§ª Method Details & Examples

1. Spread Operator (...) â€” Shallow

   const original = { a: 1, b: { c: 2 } };
   const = { ...original };
   âœ… Easy syntax

âŒ Does not deep nested objects

2. structuredClone() â€” Deep

   const original = { a: 1, b: { c: 2 } };
   const deep = structuredClone(original);
   âœ… Handles nested objects, arrays, Dates, Maps, Sets, even circular references

âŒ Not available in all environments (Node <17, older browsers)

3. ON.parse(ON.stringify(obj)) â€” Basic Deep

   const original = { a: 1, b: { c: 2 } };
   const deep = ON.parse(ON.stringify(original));
   âœ… Works in most environments

âŒ Loses functions, special types (e.g., Date, Map)

âŒ Fails on circular references

4. Custom Deep Clone Function â€” Flexible Deep
   Useful when you need to handle special types (e.g., Date, Map, circular refs).

```js
function deepClone(obj, seen = new Map()) {
  if (obj === null || typeof obj !== "object") return obj;
  if (seen.has(obj)) return seen.get(obj);

  let result;
  if (Array.isArray(obj)) {
    result = [];
    seen.set(obj, result);
    for (const item of obj) result.push(deepClone(item, seen));
  } else if (obj instanceof Date) {
    result = new Date(obj);
  } else {
    result = {};
    seen.set(obj, result);
    for (const key in obj) {
      if (obj.hasOwnProperty(key)) {
        result[key] = deepClone(obj[key], seen);
      }
    }
  }
  return result;
}
```

âœ… Full control

âœ… Supports circular references and special types (if coded properly)

âŒ More code to maintain
